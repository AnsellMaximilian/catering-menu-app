(this["webpackJsonpcatering-menu-app"]=this["webpackJsonpcatering-menu-app"]||[]).push([[0],{10:function(e,t,n){e.exports={background:"Modal_background__1M5fe",modalContainer:"Modal_modalContainer__2cxTn",open:"Modal_open__3CHR8",closeBtn:"Modal_closeBtn__3x-NX",modalContent:"Modal_modalContent__1yQt9"}},106:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(36),i=n.n(c),l=(n(45),n(6)),d=n(3),r=(n(46),n(37)),u=Object(r.createClient)({space:"8366avk3uwgs",accessToken:"ihgUIXnvshfVPz8OVDMRcKludS4K1uA0JCRfXX12Hqw"}),j=n(39),o=n.n(j),b=n(0);function m(e){var t=e.openMenuDetail,n=e.setIsCreateMode,a=e.isCreateMode;return Object(b.jsxs)("header",{children:[Object(b.jsxs)("div",{className:o.a.tools,children:[Object(b.jsx)("button",{onClick:function(){return n(!0)},disabled:a,children:"CREATE MODE"}),Object(b.jsx)("button",{onClick:function(){return n(!1)},disabled:!a,children:"VIEW MODE"}),Object(b.jsx)("button",{onClick:t,children:"EDIT MENU DETAILS"})]}),Object(b.jsx)("h1",{children:"CATERING MENU"})]})}var h=Object(a.createContext)({dishes:[],setDishes:null,filteredDishes:[],setFilteredDishes:null}),_=Object(a.createContext)({menu:{menuThumbnail:"",backgroundImage:"",dates:{start:"",end:""},days:{senin:[],selasa:[],rabu:[],kamis:[],jumat:[]}},setMenu:null}),O=Object(a.createContext)({settings:{day:"senin",pageLimit:3},setSettings:null}),x=n(9),y=n.n(x);function p(e){var t=e.page,n=e.setPage,s=e.itemTotal,c=Object(a.useContext)(h).filteredDishes,i=Object(a.useContext)(O).settings,d=Object(a.useContext)(_),r=d.menu,u=d.setMenu,j=c.map((function(e){return Object(b.jsx)("div",{className:"".concat(y.a.dishListItem," ").concat(r.days[i.day].some((function(t){return t.id===e.id}))?y.a.selected:""),onClick:function(){var t=Object(l.a)({},r);t.days[i.day].some((function(t){return t.id===e.id}))?t.days[i.day]=t.days[i.day].filter((function(t){return t.id!==e.id})):t.days[i.day].push(e),u(t)},children:Object(b.jsxs)("div",{className:y.a.content,children:[Object(b.jsx)("div",{className:y.a.dishListItem__info,children:Object(b.jsx)("h2",{children:e.name})}),Object(b.jsx)("img",{className:y.a.thumbnail,src:"https:"+e.thumbnail,alt:e.name})]})},e.id)}));return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:y.a.dishList,id:"dish-list",children:j}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:function(){return n((function(e){return 0===e?1:e-1}))},disabled:0===t,children:"PREVIOUS"}),Object(b.jsx)("button",{onClick:function(){return n((function(e){return e+1}))},disabled:s===i.pageLimit*(t+1),children:"NEXT"})]}),Object(b.jsx)("div",{children:Array.from(Array(Math.ceil(s/i.pageLimit))).map((function(e,a){return Object(b.jsx)("button",{disabled:t===a,onClick:function(){return n(a)},children:a+1},a)}))})]})}var f=n(8),g=n.n(f);function v(e){var t=e.searchTerm,n=e.setSearchTerm,s=Object(a.useContext)(_),c=s.menu,i=s.setMenu,d=Object(a.useContext)(O),r=d.settings,u=d.setSettings,j=function(e){var t=e.day;return Object(b.jsx)("span",{className:"".concat(g.a.day," ").concat(r.day===t?g.a.selected:""),onClick:function(){return function(e){u((function(t){var n=Object(l.a)({},t);return n.day=e,n}))}(t)},children:t})};return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:g.a.dayTabs,children:[Object(b.jsx)(j,{day:"senin"}),Object(b.jsx)(j,{day:"selasa"}),Object(b.jsx)(j,{day:"rabu"}),Object(b.jsx)(j,{day:"kamis"}),Object(b.jsx)(j,{day:"jumat"})]}),Object(b.jsx)("div",{className:g.a.dayDashboard,children:Object(b.jsxs)("div",{className:g.a.selectedDishes,children:[Object(b.jsxs)("header",{children:[Object(b.jsx)("span",{className:g.a.selectedDishes__title,children:"Selected Dishes"}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:function(){var e=Object(l.a)({},c);e.days[r.day]=[],i(e)},children:"CLEAR"})})]}),c.days[r.day].length>0?Object(b.jsx)("ul",{children:c.days[r.day].map((function(e){return Object(b.jsxs)("li",{children:[Object(b.jsx)("span",{children:e.name}),Object(b.jsx)("button",{onClick:function(){var t=Object(l.a)({},c);t.days[r.day]=t.days[r.day].filter((function(t){return t.id!==e.id})),i(t)},children:"\xd7"})]},e.id)}))}):Object(b.jsx)("div",{style:{paddingLeft:"1rem"},children:"No dishes selected"})]})})]}),Object(b.jsxs)("div",{className:g.a.bottomBar,children:[Object(b.jsx)("div",{className:g.a.searchContainer,children:Object(b.jsxs)("label",{children:[Object(b.jsx)("span",{children:"SEARCH: "}),Object(b.jsx)("input",{type:"search",value:t,onChange:function(e){return n(e.target.value)}})]})}),Object(b.jsx)("div",{className:g.a.pageLimitContainer,children:Object(b.jsxs)("label",{children:[Object(b.jsx)("span",{children:"ITEMS PER PAGE: "}),Object(b.jsx)("input",{type:"number",value:r.pageLimit,onChange:function(e){var t=parseInt(e.target.value);if(t){var n=Object(l.a)({},r);n.pageLimit=parseInt(t),u(n)}}})]})})]})]})}var M=n(10),N=n.n(M);function C(e){var t=e.children,n=e.open,a=e.onClose;return Object(b.jsx)("div",{className:"".concat(N.a.background," ").concat(n&&N.a.open),onClick:a,children:Object(b.jsxs)("div",{className:N.a.modalContainer,onClick:function(e){return e.stopPropagation()},children:[Object(b.jsx)("button",{className:N.a.closeBtn,onClick:a,children:"\xd7"}),Object(b.jsx)("div",{className:N.a.modalContent,children:t})]})})}var D=n(11),T=n.n(D);function k(e){var t=e.open,n=e.onClose,s=Object(a.useContext)(_),c=s.setMenu,i=s.menu,r=Object(a.useState)(i.dates.start),u=Object(d.a)(r,2),j=u[0],o=u[1],m=Object(a.useState)(i.dates.end),h=Object(d.a)(m,2),O=h[0],x=h[1],y=Object(a.useState)(i.menuThumbnail),p=Object(d.a)(y,2),f=p[0],g=p[1],v=Object(a.useState)(i.backgroundImage),M=Object(d.a)(v,2),N=M[0],D=M[1];return Object(b.jsxs)(C,{open:t,onClose:n,children:[Object(b.jsx)("h2",{children:"Menu Detail"}),Object(b.jsxs)("div",{className:T.a.form,children:[Object(b.jsx)("div",{className:T.a.form__item,children:Object(b.jsxs)("label",{children:[Object(b.jsx)("span",{children:"Start Date: "}),Object(b.jsx)("input",{type:"date",value:j,onChange:function(e){return o(e.target.value)}})]})}),Object(b.jsx)("div",{className:T.a.form__item,children:Object(b.jsxs)("label",{children:[Object(b.jsx)("span",{children:"End Date: "}),Object(b.jsx)("input",{type:"date",value:O,onChange:function(e){return x(e.target.value)}})]})}),Object(b.jsx)("div",{className:T.a.form__item,children:Object(b.jsxs)("label",{children:[Object(b.jsx)("span",{children:"Menu Thumbnail: "}),Object(b.jsx)("input",{type:"text",value:f,onChange:function(e){return g(e.target.value)},placeholder:"Type image URL"})]})}),Object(b.jsx)("div",{className:T.a.form__item,children:Object(b.jsxs)("label",{children:[Object(b.jsx)("span",{children:"Background Image: "}),Object(b.jsx)("input",{type:"text",value:N,onChange:function(e){return D(e.target.value)},placeholder:"Type image URL"})]})}),Object(b.jsx)("button",{onClick:function(){var e=Object(l.a)({},i);e.dates.start=j,e.dates.end=O,e.menuThumbnail=f||e.menuThumbnail,e.backgroundImage=N||e.backgroundImage,c(e),n()},children:"SAVE"})]})]})}var S=n(2),L=n.n(S);var I=function(e){var t=e.toLocaleString("default",{month:"long"}),n=e.getFullYear(),a=e.getDate();return"".concat(a," ").concat(t,", ").concat(n)},E=n.p+"static/media/empty-plate.1dde450a.png";function P(){var e=Object(a.useContext)(_).menu;return Object(b.jsx)("div",{className:L.a.menuContainer,children:Object(b.jsxs)("div",{id:"menu",className:L.a.menu,children:[Object(b.jsxs)("header",{className:L.a.menuHeader,children:[Object(b.jsxs)("div",{className:L.a.menuHeader__content,children:[Object(b.jsx)("h2",{className:L.a.menuTitle,children:"MENU CATERING"}),Object(b.jsx)("span",{className:L.a.menuDate,children:"".concat(I(new Date(e.dates.start))," - ").concat(I(new Date(e.dates.end)))})]}),Object(b.jsx)("img",{src:e.menuThumbnail,alt:"menu thumbnail",className:L.a.menuThumbnail})]}),Object(b.jsxs)("div",{className:L.a.menuContent,children:[Object(b.jsx)("img",{alt:"background-content",src:e.backgroundImage,className:L.a.menuBg}),Object(b.jsxs)("div",{className:L.a.dayMenu,children:[Object(b.jsx)("img",{src:e.days.senin.length?"https:".concat(e.days.senin[0].thumbnail):E,alt:"day-thumbnail",className:L.a.dayMenu__thumbnail}),Object(b.jsxs)("div",{className:L.a.dayMenu__content,children:[Object(b.jsx)("h3",{className:L.a.dayMenu__title,children:"Senin"}),Object(b.jsx)("ul",{className:L.a.dayMenu__list,children:e.days.senin.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)("span",{children:e.name})},e.id)}))})]})]}),Object(b.jsxs)("div",{className:L.a.dayMenu,children:[Object(b.jsx)("img",{src:e.days.selasa.length?"https:".concat(e.days.selasa[0].thumbnail):E,alt:"day-thumbnail",className:L.a.dayMenu__thumbnail}),Object(b.jsxs)("div",{className:L.a.dayMenu__content,children:[Object(b.jsx)("h3",{className:L.a.dayMenu__title,children:"selasa"}),Object(b.jsx)("ul",{className:L.a.dayMenu__list,children:e.days.selasa.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)("span",{children:e.name})},e.id)}))})]})]}),Object(b.jsxs)("div",{className:L.a.dayMenu,children:[Object(b.jsx)("img",{src:e.days.rabu.length?"https:".concat(e.days.rabu[0].thumbnail):E,alt:"day-thumbnail",className:L.a.dayMenu__thumbnail}),Object(b.jsxs)("div",{className:L.a.dayMenu__content,children:[Object(b.jsx)("h3",{className:L.a.dayMenu__title,children:"rabu"}),Object(b.jsx)("ul",{className:L.a.dayMenu__list,children:e.days.rabu.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)("span",{children:e.name})},e.id)}))})]})]}),Object(b.jsxs)("div",{className:L.a.dayMenu,children:[Object(b.jsx)("img",{src:e.days.kamis.length?"https:".concat(e.days.kamis[0].thumbnail):E,alt:"day-thumbnail",className:L.a.dayMenu__thumbnail}),Object(b.jsxs)("div",{className:L.a.dayMenu__content,children:[Object(b.jsx)("h3",{className:L.a.dayMenu__title,children:"kamis"}),Object(b.jsx)("ul",{className:L.a.dayMenu__list,children:e.days.kamis.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)("span",{children:e.name})},e.id)}))})]})]}),Object(b.jsxs)("div",{className:L.a.dayMenu,children:[Object(b.jsx)("img",{src:e.days.jumat.length?"https:".concat(e.days.jumat[0].thumbnail):E,alt:"day-thumbnail",className:L.a.dayMenu__thumbnail}),Object(b.jsxs)("div",{className:L.a.dayMenu__content,children:[Object(b.jsx)("h3",{className:L.a.dayMenu__title,children:"jumat"}),Object(b.jsx)("ul",{className:L.a.dayMenu__list,children:e.days.jumat.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)("span",{children:e.name})},e.id)}))})]})]})]})]})})}var R=n(40),w=n.n(R),B=n.p+"static/media/default-menu-thumbnail.7192311f.jpg",A=n.p+"static/media/default-menu-bg.ba52eba0.jpg";var F=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),i=Object(d.a)(c,2),r=i[0],j=i[1],o=Object(a.useState)({day:"senin",pageLimit:3}),x=Object(d.a)(o,2),y=x[0],f=x[1],g=Object(a.useState)({menuThumbnail:B,backgroundImage:A,dates:{start:(new Date).toISOString().slice(0,10),end:new Date((new Date).setDate((new Date).getDate()+7)).toISOString().slice(0,10)},days:{senin:[],selasa:[],rabu:[],kamis:[],jumat:[]}}),M=Object(d.a)(g,2),N=M[0],C=M[1],D=Object(a.useState)(!1),T=Object(d.a)(D,2),S=T[0],L=T[1],I=Object(a.useState)(!0),E=Object(d.a)(I,2),R=E[0],F=E[1],H=Object(a.useState)(0),U=Object(d.a)(H,2),V=U[0],X=U[1],G=Object(a.useState)(""),J=Object(d.a)(G,2),K=J[0],W=J[1],q=Object(a.useState)(0),Q=Object(d.a)(q,2),Y=Q[0],z=Q[1];return Object(a.useEffect)((function(){u.getEntries({content_type:"dish",skip:V*y.pageLimit,"fields.name[match]":K,limit:y.pageLimit,order:"fields.name"}).then((function(e){var t=e.items.map((function(e){return Object(l.a)(Object(l.a)({id:e.sys.id},e.fields),{},{thumbnail:e.fields.thumbnail.fields.file.url})}));console.log(e),z(e.total),s(t),j(t)}))}),[V,K,y.pageLimit]),Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(h.Provider,{value:{dishes:n,filteredDishes:r,setDishes:s,setFilteredDishes:j},children:Object(b.jsx)(_.Provider,{value:{menu:N,setMenu:C},children:Object(b.jsxs)(O.Provider,{value:{settings:y,setSettings:f},children:[Object(b.jsx)(m,{openMenuDetail:function(){return L(!0)},setIsCreateMode:F,isCreateMode:R}),R?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(v,{searchTerm:K,setSearchTerm:W}),Object(b.jsx)(p,{page:V,itemTotal:Y,setPage:X})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){w.a.toPng(document.querySelector("#menu")).then((function(e){var t=document.createElement("a");t.download="menu.jpeg",t.href=e,t.click()})).catch((function(e){console.error("oops, something went wrong!",e)}))},children:"PRINT"}),Object(b.jsx)(P,{})]}),Object(b.jsx)(k,{open:S,onClose:function(){return L(!1)}})]})})})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,107)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),c(e),i(e)}))};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(F,{})}),document.getElementById("root")),H()},11:function(e,t,n){e.exports={form:"MenuDetail_form__104LO",form__item:"MenuDetail_form__item__2UOhw"}},17:function(e,t){},2:function(e,t,n){e.exports={menuContainer:"Menu_menuContainer__2mWMC",menu:"Menu_menu__1G34B",dayMenu:"Menu_dayMenu__2W-K8",menuHeader:"Menu_menuHeader__3mJf1",menuHeader__content:"Menu_menuHeader__content__3vSyq",menuTitle:"Menu_menuTitle__hibc5",menuDate:"Menu_menuDate__2QrEp",menuContent:"Menu_menuContent___2--W",menuThumbnail:"Menu_menuThumbnail__1oNRI",dayMenu__thumbnail:"Menu_dayMenu__thumbnail__15IR2",dayMenu__content:"Menu_dayMenu__content__1oFFi",dayMenu__title:"Menu_dayMenu__title__1NdKf",dayMenu__list:"Menu_dayMenu__list__1XnS7",menuBg:"Menu_menuBg__1HfAI"}},39:function(e,t,n){e.exports={tools:"Header_tools__3unRd"}},45:function(e,t,n){},46:function(e,t,n){},74:function(e,t){},8:function(e,t,n){e.exports={dayTabs:"Toolbar_dayTabs__jm8pi",day:"Toolbar_day__30IDk",selected:"Toolbar_selected__20M9b",dayDashboard:"Toolbar_dayDashboard__OFNoO",selectedDishes:"Toolbar_selectedDishes__cZtPh",selectedDishes__title:"Toolbar_selectedDishes__title__38mBa",bottomBar:"Toolbar_bottomBar__2GENE",searchContainer:"Toolbar_searchContainer__kSMnB",pageLimitContainer:"Toolbar_pageLimitContainer__3co6x"}},9:function(e,t,n){e.exports={dishList:"DishList_dishList__FYJcU",dishListItem:"DishList_dishListItem__1E9h1",content:"DishList_content__2wxP7",thumbnail:"DishList_thumbnail__-pVVE",selected:"DishList_selected__1yA5o",dishListItem__info:"DishList_dishListItem__info__1EMHk"}}},[[106,1,2]]]);
//# sourceMappingURL=main.59029cac.chunk.js.map